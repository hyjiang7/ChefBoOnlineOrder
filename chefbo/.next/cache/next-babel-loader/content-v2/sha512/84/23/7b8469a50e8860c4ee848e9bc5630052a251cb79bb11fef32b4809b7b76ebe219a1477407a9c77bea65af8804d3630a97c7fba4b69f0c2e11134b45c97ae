{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/helenjiang/Desktop/ChefBoOnline/ChefBoOnlineOrder/chefbo/pages/routes/checkout.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport momentz from \"moment-timezone\";\nimport store from \"../../state/GlobalState\";\nimport router, { useRouter } from \"next/router\";\nimport { addCustomerInfo, setTips } from \"../../state/Actions\";\nvar FULL12FORMAT = \"dddd MM-DD-YY HH:mm\";\nvar DATEFORMAT = \"dddd MM-DD-YY\";\nvar TIMEZONE = \"America/Los_Angeles\";\n\nvar checkout = function checkout() {\n  _s();\n\n  // const closedDays = [\"11/25/2021\", \"12/25/2021\", \"07/04/2022\"]\n  //if lunch special in cart; different hoursOfOperation\n  var lunchSpecialHours = [[], [\"11:00\", \"15:00\"], [\"11:00\", \"15:00\"], [\"11:00\", \"15:00\"], [\"11:00\", \"15:00\"], [\"11:00\", \"15:00\"], [\"12:00\", \"15:00\"]];\n  var hoursOfOperation = [[\"11:00\", \"15:00\", \"16:30\", \"21:30\"], //change!!!\n  [\"11:00\", \"15:00\", \"16:30\", \"21:00\"], [\"11:00\", \"15:00\", \"16:30\", \"21:00\"], [\"11:00\", \"15:00\", \"16:30\", \"21:00\"], [\"11:00\", \"15:00\", \"16:30\", \"21:00\"], [\"11:00\", \"15:00\", \"16:30\", \"21:30\"], [\"12:00\", \"15:00\", \"16:30\", \"21:30\"]];\n  var today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE);\n  var day = today.day(); //number\n\n  var date = today.format(DATEFORMAT); //string\n\n  var todayClose2 = moment.tz(\"\".concat(date, \" \").concat(hoursOfOperation[day][3]), FULL12FORMAT, TIMEZONE);\n  var open = today.isBefore(todayClose2);\n  var validTimesOne = [];\n  var validDays = [];\n  var validTimesTwo = [];\n  var dateOne;\n  var dateTwo;\n  var dayOneOpen1, dayOneClose1, dayOneOpen2, dayOneClose2;\n  var dayTwoOpen1, dayTwoClose1, dayTwoOpen2, dayTwoClose2; //today is open!\n\n  if (open) {\n    console.log(\"open\");\n    validDays.push(\"Today (\".concat(date, \")\"));\n    dateOne = date;\n\n    if (day == 6) {\n      //if today is sat, give them today and monday\n      dateTwo = today.add(2, \"days\").format(DATEFORMAT);\n    } else {\n      //today and tmr\n      dateTwo = today.add(1, \"days\").format(DATEFORMAT);\n    }\n\n    validDays.push(dateTwo);\n    today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE); //reset today\n\n    console.log(moment.utc(today).tz(TIMEZONE));\n    console.log(dateOne, dateTwo);\n    dayOneOpen1 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[day][0]), FULL12FORMAT, TIMEZONE);\n    dayOneClose1 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[day][1]), FULL12FORMAT, TIMEZONE);\n    dayOneOpen2 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[day][2]), FULL12FORMAT, TIMEZONE);\n    dayOneClose2 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[day][3]), FULL12FORMAT, TIMEZONE);\n    dayTwoOpen1 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][0]), FULL12FORMAT, TIMEZONE);\n    dayTwoClose1 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][1]), FULL12FORMAT, TIMEZONE);\n    dayTwoOpen2 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][2]), FULL12FORMAT, TIMEZONE);\n    dayTwoClose2 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][3]), FULL12FORMAT, TIMEZONE);\n    console.log(dayOneOpen1, dayOneClose1, dayOneOpen2, dayOneClose2);\n\n    if (today.isBefore(dayOneOpen1)) {\n      //store still open today\n      validTimesOne = availablePickUpTimes(dayOneOpen1, dayOneClose1);\n    } else {\n      validTimesOne = availablePickUpTimes(today, dayOneClose1);\n    }\n\n    console.log(validTimesOne);\n    validTimesOne = validTimesOne.concat(availablePickUpTimes(dayOneOpen2, dayOneClose2));\n    validTimesTwo = availablePickUpTimes(dayTwoOpen1, dayTwoClose1);\n    validTimesTwo = validTimesTwo.concat(availablePickUpTimes(dayTwoOpen2, dayTwoClose2));\n  } else {\n    console.log(\"closed today\"); //give them options for next two business days\n\n    dateOne = today.add(1, \"days\").format(DATEFORMAT);\n    dateTwo = today.add(1, \"days\").format(DATEFORMAT);\n    validDays.push(dateOne);\n    validDays.push(dateTwo);\n    dayOneOpen1 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[new moment(dateOne).day()][0]), FULL12FORMAT, TIMEZONE);\n    dayOneClose1 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[new moment(dateOne).day()][1]), FULL12FORMAT, TIMEZONE);\n    dayOneOpen2 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[new moment(dateOne).day()][2]), FULL12FORMAT, TIMEZONE);\n    dayOneClose2 = moment.tz(\"\".concat(dateOne, \" \").concat(hoursOfOperation[new moment(dateOne).day()][3]), FULL12FORMAT, TIMEZONE);\n    dayTwoOpen1 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][0]), FULL12FORMAT, TIMEZONE);\n    dayTwoClose1 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][1]), FULL12FORMAT, TIMEZONE);\n    dayTwoOpen2 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][2]), FULL12FORMAT, TIMEZONE);\n    dayTwoClose2 = moment.tz(\"\".concat(dateTwo, \" \").concat(hoursOfOperation[new moment(dateTwo).day()][3]), FULL12FORMAT, TIMEZONE);\n    today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE); //reset today\n\n    validTimesOne = availablePickUpTimes(dayOneOpen1, dayOneClose1);\n    validTimesOne = validTimesOne.concat(availablePickUpTimes(dayOneOpen2, dayOneClose2));\n    validTimesTwo = availablePickUpTimes(dayTwoOpen1, dayTwoClose1);\n    validTimesTwo = validTimesTwo.concat(availablePickUpTimes(dayTwoOpen2, dayTwoClose2));\n  }\n\n  function availablePickUpTimes(startTime, endTime) {\n    console.log(startTime, endTime);\n    var timeArr = [];\n    var mins = 15 - startTime.minute() % 15;\n    var firstTime = startTime.add(mins, \"m\");\n    console.log(firstTime, endTime, firstTime.isBefore(endTime), mins);\n    mins == 15 ? null : firstTime.add(15, \"m\");\n\n    while (firstTime.isBefore(endTime)) {\n      timeArr.push(new moment(firstTime).format(\"h:mm a\"));\n      firstTime.add(15, \"m\");\n    }\n\n    return timeArr;\n  }\n\n  var _useState = useState(0),\n      dateChange = _useState[0],\n      setDateChange = _useState[1];\n\n  var _useState2 = useState(validTimesOne),\n      times = _useState2[0],\n      setTimes = _useState2[1];\n\n  var _useState3 = useState(validTimesOne[0]),\n      timeChange = _useState3[0],\n      setTime = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      paymentError = _useState4[0],\n      setPaymentError = _useState4[1];\n\n  useEffect(function () {\n    console.log(\"use effect\");\n    console.log(dateChange);\n\n    if (dateChange == 0) {\n      setTimes(validTimesOne);\n    } else setTimes(validTimesTwo);\n  }, [dateChange]);\n\n  function handleDateChange(e) {\n    setDateChange(e.target.value);\n  }\n\n  function handleTimeChange(e) {\n    console.log(e.target.value);\n    setTime(e.target.value);\n  }\n\n  function reviewOrder(e) {\n    //check if payment is valid\n    e.preventDefault();\n    var validPayment = e.target.form.elements.payment.value;\n    var tips = 5.0;\n    console.log(validPayment);\n\n    if (validPayment) {\n      setPaymentError(\"\");\n      var customer = {\n        fname: e.target.form.elements.fname.value,\n        lname: e.target.form.elements.lname.value,\n        email: e.target.form.elements.email.value,\n        phone: e.target.form.elements.phone.value,\n        time: timeChange,\n        payment: e.target.form.elements.payment.value\n      };\n      dateChange == 0 ? customer.date = dateOne : customer.date = dateTwo;\n      store.dispatch(setTips(tips));\n      store.dispatch(addCustomerInfo(customer));\n      router.push(\"/routes/submit\");\n    } else {\n      //add error message to payment invalid\n      setPaymentError(\"Invalid payment method!\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-12 col-sm-8 col-lg-6 m-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"\",\n          htmlFor: \"day\",\n          children: \"Select Pick Up Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"day\",\n          className: \"form-control\",\n          onChange: handleDateChange,\n          children: validDays.map(function (i, ind) {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ind,\n              children: i\n            }, ind, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"\",\n          htmlFor: \"time\",\n          children: \"Select a Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"time\",\n          className: \"form-control\",\n          onChange: handleTimeChange,\n          children: times.map(function (i, ind) {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\".concat(i),\n              children: i\n            }, ind, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"fname\",\n            children: \" First Name* \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"fname\",\n            type: \"text\",\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"lname\",\n            children: \" Last Name* \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"lname\",\n            type: \"text\",\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \" Email* \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"email\",\n          type: \"email\",\n          className: \"form-control\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"phone\",\n          children: \" Phone number (digits only)* \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"phone\",\n          type: \"tel\",\n          pattern: \"[0-9]{3}[0-9]{3}[0-9]{4}\",\n          className: \"form-control\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"tips\",\n          children: \" Enter Tip amount* \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"tips\",\n          type: \"radio\",\n          pattern: \"[0-9]{3}[0-9]{3}[0-9]{4}\",\n          className: \"form-control\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"payment\",\n          children: [\" \", \"Payment* \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"red\"\n            },\n            children: paymentError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 34\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"payment\",\n          type: \"text\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group d-flex justify-content-center \",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          onClick: reviewOrder,\n          children: \"Review and Submit Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(checkout, \"YZu+DFANaN3JFLOpfg+W5F594Vc=\");\n\nexport default checkout;","map":{"version":3,"sources":["/Users/helenjiang/Desktop/ChefBoOnline/ChefBoOnlineOrder/chefbo/pages/routes/checkout.js"],"names":["React","useState","useContext","useEffect","moment","momentz","store","router","useRouter","addCustomerInfo","setTips","FULL12FORMAT","DATEFORMAT","TIMEZONE","checkout","lunchSpecialHours","hoursOfOperation","today","format","tz","day","date","todayClose2","open","isBefore","validTimesOne","validDays","validTimesTwo","dateOne","dateTwo","dayOneOpen1","dayOneClose1","dayOneOpen2","dayOneClose2","dayTwoOpen1","dayTwoClose1","dayTwoOpen2","dayTwoClose2","console","log","push","add","utc","availablePickUpTimes","concat","startTime","endTime","timeArr","mins","minute","firstTime","dateChange","setDateChange","times","setTimes","timeChange","setTime","paymentError","setPaymentError","handleDateChange","e","target","value","handleTimeChange","reviewOrder","preventDefault","validPayment","form","elements","payment","tips","customer","fname","lname","email","phone","time","dispatch","map","i","ind","color"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport momentz from \"moment-timezone\";\nimport store from \"../../state/GlobalState\";\nimport router, { useRouter } from \"next/router\";\nimport { addCustomerInfo, setTips } from \"../../state/Actions\";\n\nconst FULL12FORMAT = \"dddd MM-DD-YY HH:mm\";\nconst DATEFORMAT = \"dddd MM-DD-YY\";\nconst TIMEZONE = \"America/Los_Angeles\";\n\nconst checkout = () => {\n    // const closedDays = [\"11/25/2021\", \"12/25/2021\", \"07/04/2022\"]\n\n    //if lunch special in cart; different hoursOfOperation\n    const lunchSpecialHours = [\n        [],\n        [\"11:00\", \"15:00\"],\n        [\"11:00\", \"15:00\"],\n        [\"11:00\", \"15:00\"],\n        [\"11:00\", \"15:00\"],\n        [\"11:00\", \"15:00\"],\n        [\"12:00\", \"15:00\"],\n    ];\n\n    const hoursOfOperation = [\n        [\"11:00\", \"15:00\", \"16:30\", \"21:30\"], //change!!!\n        [\"11:00\", \"15:00\", \"16:30\", \"21:00\"],\n        [\"11:00\", \"15:00\", \"16:30\", \"21:00\"],\n        [\"11:00\", \"15:00\", \"16:30\", \"21:00\"],\n        [\"11:00\", \"15:00\", \"16:30\", \"21:00\"],\n        [\"11:00\", \"15:00\", \"16:30\", \"21:30\"],\n        [\"12:00\", \"15:00\", \"16:30\", \"21:30\"],\n    ];\n\n    var today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE);\n    const day = today.day(); //number\n    const date = today.format(DATEFORMAT); //string\n    const todayClose2 = moment.tz(\n        `${date} ${hoursOfOperation[day][3]}`,\n        FULL12FORMAT,\n        TIMEZONE\n    );\n    const open = today.isBefore(todayClose2);\n    var validTimesOne = [];\n    var validDays = [];\n    var validTimesTwo = [];\n    var dateOne;\n    var dateTwo;\n    var dayOneOpen1, dayOneClose1, dayOneOpen2, dayOneClose2;\n    var dayTwoOpen1, dayTwoClose1, dayTwoOpen2, dayTwoClose2;\n\n    //today is open!\n    if (open) {\n        console.log(\"open\");\n        validDays.push(`Today (${date})`);\n        dateOne = date;\n        if (day == 6) {\n            //if today is sat, give them today and monday\n            dateTwo = today.add(2, \"days\").format(DATEFORMAT);\n        } else {\n            //today and tmr\n            dateTwo = today.add(1, \"days\").format(DATEFORMAT);\n        }\n        validDays.push(dateTwo);\n\n        today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE); //reset today\n        console.log(moment.utc(today).tz(TIMEZONE));\n        console.log(dateOne, dateTwo);\n\n        dayOneOpen1 = moment.tz(\n            `${dateOne} ${hoursOfOperation[day][0]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneClose1 = moment.tz(\n            `${dateOne} ${hoursOfOperation[day][1]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneOpen2 = moment.tz(\n            `${dateOne} ${hoursOfOperation[day][2]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneClose2 = moment.tz(\n            `${dateOne} ${hoursOfOperation[day][3]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoOpen1 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][0]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoClose1 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][1]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoOpen2 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][2]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoClose2 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][3]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n\n        console.log(dayOneOpen1, dayOneClose1, dayOneOpen2, dayOneClose2);\n        if (today.isBefore(dayOneOpen1)) {\n            //store still open today\n\n            validTimesOne = availablePickUpTimes(dayOneOpen1, dayOneClose1);\n        } else {\n            validTimesOne = availablePickUpTimes(today, dayOneClose1);\n        }\n\n        console.log(validTimesOne);\n        validTimesOne = validTimesOne.concat(\n            availablePickUpTimes(dayOneOpen2, dayOneClose2)\n        );\n\n        validTimesTwo = availablePickUpTimes(dayTwoOpen1, dayTwoClose1);\n\n        validTimesTwo = validTimesTwo.concat(\n            availablePickUpTimes(dayTwoOpen2, dayTwoClose2)\n        );\n    } else {\n        console.log(\"closed today\");\n\n        //give them options for next two business days\n        dateOne = today.add(1, \"days\").format(DATEFORMAT);\n        dateTwo = today.add(1, \"days\").format(DATEFORMAT);\n        validDays.push(dateOne);\n        validDays.push(dateTwo);\n\n        dayOneOpen1 = moment.tz(\n            `${dateOne} ${hoursOfOperation[new moment(dateOne).day()][0]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneClose1 = moment.tz(\n            `${dateOne} ${hoursOfOperation[new moment(dateOne).day()][1]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneOpen2 = moment.tz(\n            `${dateOne} ${hoursOfOperation[new moment(dateOne).day()][2]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayOneClose2 = moment.tz(\n            `${dateOne} ${hoursOfOperation[new moment(dateOne).day()][3]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoOpen1 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][0]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoClose1 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][1]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoOpen2 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][2]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n        dayTwoClose2 = moment.tz(\n            `${dateTwo} ${hoursOfOperation[new moment(dateTwo).day()][3]}`,\n            FULL12FORMAT,\n            TIMEZONE\n        );\n\n        today = moment(moment().format(FULL12FORMAT)).tz(TIMEZONE); //reset today\n\n        validTimesOne = availablePickUpTimes(dayOneOpen1, dayOneClose1);\n        validTimesOne = validTimesOne.concat(\n            availablePickUpTimes(dayOneOpen2, dayOneClose2)\n        );\n        validTimesTwo = availablePickUpTimes(dayTwoOpen1, dayTwoClose1);\n        validTimesTwo = validTimesTwo.concat(\n            availablePickUpTimes(dayTwoOpen2, dayTwoClose2)\n        );\n    }\n\n    function availablePickUpTimes(startTime, endTime) {\n        console.log(startTime, endTime);\n        var timeArr = [];\n\n        var mins = 15 - (startTime.minute() % 15);\n        var firstTime = startTime.add(mins, \"m\");\n        console.log(firstTime, endTime, firstTime.isBefore(endTime), mins);\n        mins == 15 ? null : firstTime.add(15, \"m\");\n\n        while (firstTime.isBefore(endTime)) {\n            timeArr.push(new moment(firstTime).format(\"h:mm a\"));\n            firstTime.add(15, \"m\");\n        }\n        return timeArr;\n    }\n\n    const [dateChange, setDateChange] = useState(0);\n    const [times, setTimes] = useState(validTimesOne);\n    const [timeChange, setTime] = useState(validTimesOne[0]);\n    const [paymentError, setPaymentError] = useState(\"\");\n\n    useEffect(() => {\n        console.log(\"use effect\");\n        console.log(dateChange);\n        if (dateChange == 0) {\n            setTimes(validTimesOne);\n        } else setTimes(validTimesTwo);\n    }, [dateChange]);\n\n    function handleDateChange(e) {\n        setDateChange(e.target.value);\n    }\n\n    function handleTimeChange(e) {\n        console.log(e.target.value);\n        setTime(e.target.value);\n    }\n\n    function reviewOrder(e) {\n        //check if payment is valid\n\n        e.preventDefault();\n        var validPayment = e.target.form.elements.payment.value;\n        var tips = 5.0;\n        console.log(validPayment);\n        if (validPayment) {\n            setPaymentError(\"\");\n            const customer = {\n                fname: e.target.form.elements.fname.value,\n                lname: e.target.form.elements.lname.value,\n                email: e.target.form.elements.email.value,\n                phone: e.target.form.elements.phone.value,\n                time: timeChange,\n                payment: e.target.form.elements.payment.value,\n            };\n\n            dateChange == 0 ? (customer.date = dateOne) : (customer.date = dateTwo);\n\n            store.dispatch(setTips(tips));\n\n            store.dispatch(addCustomerInfo(customer));\n            router.push(\"/routes/submit\");\n        } else {\n            //add error message to payment invalid\n            setPaymentError(\"Invalid payment method!\");\n        }\n    }\n\n    return (\n        <div className=\"col-12 col-sm-8 col-lg-6 m-auto\">\n            <form className=\"form\">\n                <div className=\"form-group\">\n                    <label className=\"\" htmlFor=\"day\">\n                        Select Pick Up Date\n                    </label>\n                    <select\n                        name=\"day\"\n                        className=\"form-control\"\n                        onChange={handleDateChange}\n                    >\n                        {validDays.map((i, ind) => (\n                            <option key={ind} value={ind}>\n                                {i}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"\" htmlFor=\"time\">\n                        Select a Time\n                    </label>\n                    <select\n                        name=\"time\"\n                        className=\"form-control\"\n                        onChange={handleTimeChange}\n                    >\n                        {/* <option>{times.length}</option> */}\n                        {times.map((i, ind) => (\n                            <option key={ind} value={`${i}`}>\n                                {i}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n\n                <div className=\"row\">\n                    <div className=\"col mb-2\">\n                        <label htmlFor=\"fname\"> First Name* </label>\n                        <input name=\"fname\" type=\"text\" className=\"form-control\" required />\n                    </div>\n\n                    <div className=\"col\">\n                        <label htmlFor=\"lname\"> Last Name* </label>\n                        <input name=\"lname\" type=\"text\" className=\"form-control\" required />\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\"> Email* </label>\n                    <input name=\"email\" type=\"email\" className=\"form-control\" required />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"phone\"> Phone number (digits only)* </label>\n                    <input\n                        name=\"phone\"\n                        type=\"tel\"\n                        pattern=\"[0-9]{3}[0-9]{3}[0-9]{4}\"\n                        className=\"form-control\"\n                        required\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"tips\"> Enter Tip amount* </label>\n                    <input\n                        name=\"tips\"\n                        type=\"radio\"\n                        pattern=\"[0-9]{3}[0-9]{3}[0-9]{4}\"\n                        className=\"form-control\"\n                        required\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"payment\">\n                        {\" \"}\n                        Payment* <span style={{ color: \"red\" }}>{paymentError}</span>\n                    </label>\n                    <input name=\"payment\" type=\"text\" className=\"form-control\" />\n                </div>\n\n                <div className=\"form-group d-flex justify-content-center \">\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-primary\"\n                        onClick={reviewOrder}\n                    >\n                        Review and Submit Order\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default checkout;\n"]},"metadata":{},"sourceType":"module"}