{"ast":null,"code":"import _regeneratorRuntime from \"/Users/helenjiang/Desktop/ChefBoOnline/ChefBoOnlineOrder/chefbo/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/helenjiang/Desktop/ChefBoOnline/ChefBoOnlineOrder/chefbo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _require = require(\"../constants/menuConstants\"),\n    MENU_LIST_REQUEST = _require.MENU_LIST_REQUEST,\n    MENU_LIST_ERROR = _require.MENU_LIST_ERROR,\n    MENU_LIST_SUCCESS = _require.MENU_LIST_SUCCESS;\n\nexport var listMenu = function listMenu() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res, categories, menuItem, i, URI, encodedURI, res2;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: MENU_LIST_REQUEST\n              });\n              _context.prev = 1;\n              _context.next = 4;\n              return fetch(\"http://localhost:5001/categories\");\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              categories = _context.sent;\n\n              if (!categories) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\", {\n                notFound: true\n              });\n\n            case 10:\n              menuItem = [];\n              i = 0;\n\n            case 12:\n              if (!(i < categories.length)) {\n                _context.next = 27;\n                break;\n              }\n\n              menuItem[i] = [];\n              URI = \"http://localhost:5001/\" + categories[i];\n              encodedURI = encodeURI(URI);\n              _context.next = 18;\n              return fetch(encodedURI);\n\n            case 18:\n              res2 = _context.sent;\n              _context.t0 = menuItem[i];\n              _context.next = 22;\n              return res2.json();\n\n            case 22:\n              _context.t1 = _context.sent;\n\n              _context.t0.push.call(_context.t0, _context.t1);\n\n            case 24:\n              i++;\n              _context.next = 12;\n              break;\n\n            case 27:\n              dispatch({\n                type: MENU_LIST_SUCCESS,\n                payload: categories,\n                menuItem: menuItem\n              });\n              _context.next = 33;\n              break;\n\n            case 30:\n              _context.prev = 30;\n              _context.t2 = _context[\"catch\"](1);\n              dispatch({\n                type: MENU_LIST_ERROR,\n                payload: _context.t2.message\n              });\n\n            case 33:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 30]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["/Users/helenjiang/Desktop/ChefBoOnline/ChefBoOnlineOrder/chefbo/state/actions/menuActions.js"],"names":["require","MENU_LIST_REQUEST","MENU_LIST_ERROR","MENU_LIST_SUCCESS","listMenu","dispatch","type","fetch","res","json","categories","notFound","menuItem","i","length","URI","encodedURI","encodeURI","res2","push","payload","message"],"mappings":";;;eAAkEA,OAAO,CAAC,4BAAD,C;IAAjEC,iB,YAAAA,iB;IAAmBC,e,YAAAA,e;IAAiBC,iB,YAAAA,iB;;AAE5C,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA;AAAA,wEAAM,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BA,cAAAA,QAAQ,CAAC;AACPC,gBAAAA,IAAI,EAAEL;AADC,eAAD,CAAR;AAD4B;AAAA;AAAA,qBAMRM,KAAK,oCANG;;AAAA;AAMpBC,cAAAA,GANoB;AAAA;AAAA,qBAODA,GAAG,CAACC,IAAJ,EAPC;;AAAA;AAOpBC,cAAAA,UAPoB;;AAAA,mBAQtBA,UARsB;AAAA;AAAA;AAAA;;AAAA,+CASjB;AACLC,gBAAAA,QAAQ,EAAE;AADL,eATiB;;AAAA;AActBC,cAAAA,QAdsB,GAcX,EAdW;AAejBC,cAAAA,CAfiB,GAeb,CAfa;;AAAA;AAAA,oBAeVA,CAAC,GAAGH,UAAU,CAACI,MAfL;AAAA;AAAA;AAAA;;AAgBxBF,cAAAA,QAAQ,CAACC,CAAD,CAAR,GAAc,EAAd;AACME,cAAAA,GAjBkB,GAiBZ,2BAA2BL,UAAU,CAACG,CAAD,CAjBzB;AAkBlBG,cAAAA,UAlBkB,GAkBLC,SAAS,CAACF,GAAD,CAlBJ;AAAA;AAAA,qBAoBLR,KAAK,CAACS,UAAD,CApBA;;AAAA;AAoBlBE,cAAAA,IApBkB;AAAA,4BAqBxBN,QAAQ,CAACC,CAAD,CArBgB;AAAA;AAAA,qBAqBDK,IAAI,CAACT,IAAL,EArBC;;AAAA;AAAA;;AAAA,0BAqBZU,IArBY;;AAAA;AAeaN,cAAAA,CAAC,EAfd;AAAA;AAAA;;AAAA;AAwB1BR,cAAAA,QAAQ,CAAC;AAACC,gBAAAA,IAAI,EAAEH,iBAAP;AAA0BiB,gBAAAA,OAAO,EAAEV,UAAnC;AAA+CE,gBAAAA,QAAQ,EAARA;AAA/C,eAAD,CAAR;AAxB0B;AAAA;;AAAA;AAAA;AAAA;AA0BxBP,cAAAA,QAAQ,CAAC;AAACC,gBAAAA,IAAI,EAAEJ,eAAP;AAAwBkB,gBAAAA,OAAO,EAAE,YAAMC;AAAvC,eAAD,CAAR;;AA1BwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB","sourcesContent":["const { MENU_LIST_REQUEST, MENU_LIST_ERROR, MENU_LIST_SUCCESS } = require(\"../constants/menuConstants\");\n\nexport const listMenu = () => async (dispatch) => {\n  dispatch({\n    type: MENU_LIST_REQUEST,\n  });\n\n  try {\n    const res = await fetch(`http://localhost:5001/categories`);\n    const categories = await res.json();\n    if (categories) {\n      return {\n        notFound: true,\n      };\n    }\n\n    var menuItem = [];\n    for (var i = 0; i < categories.length; i++) {\n      menuItem[i] = [];\n      const URI = \"http://localhost:5001/\" + categories[i];\n      const encodedURI = encodeURI(URI);\n\n      const res2 = await fetch(encodedURI);\n      menuItem[i].push(await res2.json());\n    }\n\n    dispatch({type: MENU_LIST_SUCCESS, payload: categories, menuItem});\n  } catch (error) {\n      dispatch({type: MENU_LIST_ERROR, payload: error.message})\n  }\n};\n"]},"metadata":{},"sourceType":"module"}